<!--allrecords--><div id="allrecords" data-tilda-export="yes" class="t-records" data-hook="blocks-collection-content-node" data-tilda-project-id="14542" data-tilda-page-id="12631797" data-tilda-page-alias="blog/data-privacy-settings-pbi-pq-part-4" data-tilda-formskey="2bb761110255242a2bbb1bf3f837b680" data-tilda-lazy="yes" data-tilda-project-headcode="yes"><!--header--><div id="t-header" class="t-records" data-hook="blocks-collection-content-node" data-tilda-project-id="14542" data-tilda-page-id="61936" data-tilda-page-alias="header" data-tilda-formskey="2bb761110255242a2bbb1bf3f837b680" data-tilda-project-headcode="yes"></div><!--/header--><div id="rec210724837" class="r t-rec" style=" " data-animationappear="off" data-record-type="891" ><!-- cover --><div class="t-cover" id="recorddiv210724837" bgimgfield="img" style="height:450px; background-image:-webkit-linear-gradient(top, #ccc, #777); background-image:-moz-linear-gradient(top, #ccc, #777); background-image:-o-linear-gradient(top, #ccc, #777); background-image:-ms-linear-gradient(top, #ccc, #777); background-image:linear-gradient(top, #ccc, #777); " ><div class="t-cover__carrier" id="coverCarry210724837" data-content-cover-id="210724837" data-content-cover-bg="" data-content-cover-height="450px" data-content-cover-parallax="" style="height:450px;background-attachment:scroll; "></div> <div class="t-cover__filter" style="height:450px;background-image: -moz-linear-gradient(top, rgba(14,31,47,1), rgba(24,45,66,1));background-image: -webkit-linear-gradient(top, rgba(14,31,47,1), rgba(24,45,66,1));background-image: -o-linear-gradient(top, rgba(14,31,47,1), rgba(24,45,66,1));background-image: -ms-linear-gradient(top, rgba(14,31,47,1), rgba(24,45,66,1));background-image: linear-gradient(top, rgba(14,31,47,1), rgba(24,45,66,1));filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#000e1f2f', endColorstr='#00182d42');"></div><div class="t891"> <div class="t-container"> <div class="t-col t-col_12"> <div class="t-cover__wrapper t-valign_middle" style="height:450px;"> <div class="t891__wrapper" data-hook-content="covercontent"> <div class="t891__title t-title t-title_xl" style="padding-top:100px;text-shadow: 0px 2px 5px rgba(0, 0, 0, 0.0);" field="title"><div style="font-size:46px;text-align:left;" data-customstyle="yes">Параметры конфиденциальности данных в Power BI/Power Query, часть 4: отключение проверки конфиденциальности данных<br /></div></div> <div class="t891__descr t-descr t-descr_xl " style="" field="descr"><div style="font-size:18px;text-align:left;" data-customstyle="yes">Текст представляет собой адаптированный перевод статьи Chris Webb (Крис Уэбб),<br /> оригинал – <a href="https://blog.crossjoin.co.uk/2017/07/04/data-privacy-settings-in-power-bipower-query-part-4-disabling-data-privacy-checks/">Data Privacy Settings In Power BI/Power Query, Part 4: Disabling Data Privacy Checks</a>.</div></div> <span class="space"></span> </div> </div> </div> </div></div> </div> </div><div id="rec210724838" class="r t-rec t-rec_pt_90 t-rec_pb_15" style="padding-top:90px;padding-bottom:15px; " data-record-type="296" ><!-- t265 --><div class="t265"> <div class="t-container"> <div class="t-col t-col_8 t-prefix_2"> <div class="t265__wrapper" style="background:#fafafa;"> <div class="t265__icon"> <svg x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;"> <circle style="fill:#edbd11;" cx="12.125" cy="12.125" r="12"/> <g> <path style="fill:#ffffff;" d="M10.922,6.486c0-0.728,0.406-1.091,1.217-1.091s1.215,0.363,1.215,1.091c0,0.347-0.102,0.617-0.304,0.81 c-0.202,0.193-0.507,0.289-0.911,0.289C11.328,7.585,10.922,7.219,10.922,6.486z M13.252,17.792h-2.234V9.604h2.234V17.792z"/> </g> </svg> </div> <div class="t265__text t-descr t-descr_xs" style="color:#000000;" field="text"><div style="font-size:14px;" data-customstyle="yes"><a href="https://blog.crossjoin.co.uk/" style="color:rgb(0, 0, 0) !important;">Крис Вебб</a> (Chris Webb) — независимый эксперт, консультант по технологиям Analysis Services, MDX, Power Pivot, DAX, Power Query и Power BI. Его блог — это кладезь информации на тему перечисленных технологий. Вот уже более 10 лет он пишет про BI-решения от Microsoft. Количество его статей перевалило за 1000! Также Крис выступает на большом количестве различных конференций вроде SQLBits, PASS Summit, PASS BA Conference, SQL Saturdays и участвует в различных сообществах.<br />Крис любезно разрешил нам переводить его статьи на русский язык. И это одна из них.</div></div> </div> </div> </div></div></div><div id="rec210724840" class="r t-rec t-rec_pt_15 t-rec_pb_0" style="padding-top:15px;padding-bottom:0px; " data-record-type="128" ><!-- T120 --><div class="t120"> <div class="t-container t-align_left"> <div class="t-col t-col_8 t-prefix_2"> <h3 class="t120__title t-heading t-heading_sm" field="title" style="font-size:16px;">Параметры конфиденциальности данных в Power BI/Power Query, часть 4: отключение проверки конфиденциальности данных<br /></h3> </div> </div></div></div><div id="rec210724841" class="r t-rec t-rec_pt_0 t-rec_pb_0" style="padding-top:0px;padding-bottom:0px; " data-record-type="106" ><!-- T004 --><div class="t004"><div class="t-container "> <div class="t-col t-col_8 t-prefix_2"><div field="text" class="t-text t-text_md " style=""><div style="font-size:14px;" data-customstyle="yes">В предыдущих статьях (<a href="https://needfordata.ru/blog/data-privacy-settings-pbi-pq-part-1">часть 1</a>, <a href="https://needfordata.ru/blog/data-privacy-settings-pbi-pq-part-2">часть 2</a>, <a href="https://needfordata.ru/blog/data-privacy-settings-pbi-pq-part-3">часть 3</a>) мы показали, как настройки конфиденциальности данных влияют на быстродействие запросов и саму возможность выполнения запроса. В этой статье обсуждается, как полностью отключить проверки конфиденциальности в Power BI Desktop и Excel, а также плюсы и минусы этого. <br /><br /> В Power BI Desktop можно изменить установки проверки конфиденциальности при выполнении запроса в меню File/Options And Settings, выбрав пункт Options:<br /></div></div></div></div></div></div><div id="rec210724843" class="r t-rec t-rec_pt_15 t-rec_pb_15" style="padding-top:15px;padding-bottom:15px; " data-record-type="224" ><!-- T196 --><div class="t196"> <div class="t-container" itemscope itemtype="http://schema.org/ImageObject"> <div class="t-col t-col_8 t-prefix_2 t-align_center"> <img class="t196__img t-img" src="images/tild3630-3530-4361-b833-383264316132__-__empty__image1.png" data-original="images/tild3630-3530-4361-b833-383264316132__image1.png" imgfield="img" /><meta itemprop="image" content="images/tild3630-3530-4361-b833-383264316132__image1.png"> </div> <div class="t-col t-col_2 "> <div class="t196__descr t-descr t-descr_xs" style="" field="title" itemprop="name"></div> </div> </div></div></div><div id="rec210724844" class="r t-rec t-rec_pt_0 t-rec_pb_0" style="padding-top:0px;padding-bottom:0px; " data-record-type="106" ><!-- T004 --><div class="t004"><div class="t-container "> <div class="t-col t-col_8 t-prefix_2"><div field="text" class="t-text t-text_md " style=""><div style="font-size:14px;" data-customstyle="yes">В Excel 2016 то же самое можно сделать на вкладке Data, щелкнув по кнопке Get Data, и выбрав пункт Query Options:</div></div></div></div></div></div><div id="rec210724847" class="r t-rec t-rec_pt_15 t-rec_pb_15" style="padding-top:15px;padding-bottom:15px; " data-record-type="224" ><!-- T196 --><div class="t196"> <div class="t-container" itemscope itemtype="http://schema.org/ImageObject"> <div class="t-col t-col_8 t-prefix_2 t-align_center"> <img class="t196__img t-img" src="images/tild3639-3664-4438-b933-323836326137__-__empty__image2.png" data-original="images/tild3639-3664-4438-b933-323836326137__image2.png" imgfield="img" /><meta itemprop="image" content="images/tild3639-3664-4438-b933-323836326137__image2.png"> </div> <div class="t-col t-col_2 "> <div class="t196__descr t-descr t-descr_xs" style="" field="title" itemprop="name"></div> </div> </div></div></div><div id="rec210724848" class="r t-rec t-rec_pt_0 t-rec_pb_0" style="padding-top:0px;padding-bottom:0px; " data-record-type="106" ><!-- T004 --><div class="t004"><div class="t-container "> <div class="t-col t-col_8 t-prefix_2"><div field="text" class="t-text t-text_md " style=""><div style="font-size:14px;" data-customstyle="yes">В обоих случаях появится диалог Options. <br /><br /> В нем есть две области, определяющие, как будут применятся правила проверок. Первая область это Global, она определяет общие настройки, применяемые к каждому файлу .pbix или Excel, которые открываются на компьютере:<br /></div></div></div></div></div></div><div id="rec210724851" class="r t-rec t-rec_pt_15 t-rec_pb_15" style="padding-top:15px;padding-bottom:15px; " data-record-type="224" ><!-- T196 --><div class="t196"> <div class="t-container" itemscope itemtype="http://schema.org/ImageObject"> <div class="t-col t-col_8 t-prefix_2 t-align_center"> <img class="t196__img t-img" src="images/tild6337-3964-4132-a236-393130393934__-__empty__image3.png" data-original="images/tild6337-3964-4132-a236-393130393934__image3.png" imgfield="img" /><meta itemprop="image" content="images/tild6337-3964-4132-a236-393130393934__image3.png"> </div> <div class="t-col t-col_2 "> <div class="t196__descr t-descr t-descr_xs" style="" field="title" itemprop="name"></div> </div> </div></div></div><div id="rec210724852" class="r t-rec t-rec_pt_0 t-rec_pb_0" style="padding-top:0px;padding-bottom:0px; " data-record-type="106" ><!-- T004 --><div class="t004"><div class="t-container "> <div class="t-col t-col_8 t-prefix_2"><div field="text" class="t-text t-text_md " style=""><div style="font-size:14px;" data-customstyle="yes">Имеются три варианта выбора: <br /><br /> <ol> <li> <strong>Always combine data according to your Privacy Level settings for each source</strong> — настройки конфиденциальности данных применяются к каждому открываемому файлу .pbix или Excel, независимо от свойств (они описаны ниже) сохранённых для отдельных файлов. <br /><br /> </li> <li> <strong>Combine data according to each file's Privacy Level settings</strong> – проверки происходят в соответствии со свойствами каждого отдельного файла .pbix или Excel. <br /><br /> </li> <li> <strong>Always ignore Privacy Level settings</strong> — при открытии файлов .pbix или Excel всегда игнорировать параметры конфиденциальности, независимо от настроек отдельных файлов. <br /><br /> </li> </ol> В области Current File расположены свойства, которые сохраняются и применяются к текущему открытому файлу .pbix или Excel:<br /></div></div></div></div></div></div><div id="rec210725324" class="r t-rec t-rec_pt_15 t-rec_pb_15" style="padding-top:15px;padding-bottom:15px; " data-record-type="224" ><!-- T196 --><div class="t196"> <div class="t-container" itemscope itemtype="http://schema.org/ImageObject"> <div class="t-col t-col_8 t-prefix_2 t-align_center"> <img class="t196__img t-img" src="images/tild3135-3266-4233-a134-333937383337__-__empty__image4.png" data-original="images/tild3135-3266-4233-a134-333937383337__image4.png" imgfield="img" /><meta itemprop="image" content="images/tild3135-3266-4233-a134-333937383337__image4.png"> </div> <div class="t-col t-col_2 "> <div class="t196__descr t-descr t-descr_xs" style="" field="title" itemprop="name"></div> </div> </div></div></div><div id="rec210724860" class="r t-rec t-rec_pt_0 t-rec_pb_0" style="padding-top:0px;padding-bottom:0px; " data-record-type="106" ><!-- T004 --><div class="t004"><div class="t-container "> <div class="t-col t-col_8 t-prefix_2"><div field="text" class="t-text t-text_md " style=""><div style="font-size:14px;" data-customstyle="yes">Кнопки переключателя будут неактивны, если на предыдущем шаге были выбраны пункты 1 или 3. Только пункт 2 позволит применить параметр <em>Combine data according to each file's Privacy Level settings</em>. Если при изменении параметров в Global/Privacy переключатель в остается неактивным, заново откройте диалог Options. <br /><br /> Здесь всего два варианта: <br /><br /> <ol> <li> <strong>Combine data according to your Privacy Level settings for each source</strong> – установки конфиденциальности данных каждого источника применяются для определения поведения запросов, объединяющих данные из разных источников. Это значение по умолчанию. <br /><br /> </li> <li> <strong>Ignore the Privacy Levels and potentially improve performance</strong> – запросы, объединяющие данные разных источников игнорируют настройки конфиденциальности данных. <br /><br /> </li> </ol> В итоге эти две группы свойств определяют применяются ли настройки конфиденциальности данных ко всем файлам .pbix и Excel, или к отдельным, или игнорируются совсем. <br /><br /> Пользователи Power BI должны помнить, что эти параметры применяются только к Power BI Desktop. После публикации отчёта, если использован инструмент On-Premises Data Gateway, нужно сконфигурировать параметры конфиденциальности данных источников данных, использованных в наборе данных Power BI portal. Если в On-Premises Data Gateway применён режим Personal Mode (раньше Personal Gateway) можно выбрать игнорирование параметров конфиденциальности. К сожалению, в другом режиме невозможно на момент записи настроить игнорирование уровней конфиденциальности данных. Также стоит отметить, что сейчас нельзя объединять данные из онлайн и локальных источников в шлюз. Хотя эту проблему обещают решить в ближайшем будущем. Чтобы обойти эти ограничения придется импортировать данные в отдельные таблицы набора данных и использовать вычисляемые таблицы DAX для их объединения. <br /><br /> Может показаться заманчивым полностью отключить проверки конфиденциальности, чтобы избежать проблем, связанных с этим. Делая так, вы, безусловно, избавляетесь от заморочек с ошибкой Formula.Firewall и тому подобным. Это также гарантирует быстрейшее выполнение запроса. Так происходит не только из-за складывания запроса, но и потому что сами проверки тормозят скорость его обработки. Недавно мы столкнулись со случаем, когда источником данных была единственная книга Excel (что исключает возможность складывания запроса). Отключение проверок конфиденциальности значительно повысило быстродействие запроса. <br /><br /> Однако не рекомендуется отключать проверки всех файлов Excel и .pbix по умолчанию. Во-первых, если вы работаете с конфиденциальными или строго контролируемыми данными, необходимо в каждом отдельном случае рассмотреть последствия возможности складывания запроса на конфиденциальность. Игнорирование по умолчанию проверок конфиденциальности повышает вероятность того, что рано или поздно вы сами или один из пользователей создадите запрос, который отправит данные внешнему источнику. Тем самым нарушив правила организации, или даже закон относительно того, как эти данные должны обрабатываться. Во-вторых, если вы пользователь Power BI и, применив инструмент On-Premises Data Gateway, создали отчет с отключенными проверками конфиденциальности. То вы рискуете тем, что не сможете обновить настройки проверок и они останутся отключенными.<br /></div></div></div></div></div></div><div id="rec230243365" class="r t-rec t-rec_pt_0 t-rec_pb_60" style="padding-top:0px;padding-bottom:60px; " data-record-type="106" ><!-- T004 --><div class="t004"><div class="t-container "> <div class="t-col t-col_8 t-prefix_2"><div field="text" class="t-text t-text_md " style=""><div style="font-size:14px;" data-customstyle="yes">Другие статьи цикла:<br />- <a href="https://needfordata.ru/blog/data-privacy-settings-pbi-pq-part-1">часть 1</a> <br />- <a href="https://needfordata.ru/blog/data-privacy-settings-pbi-pq-part-2">часть 2</a> <br />- <a href="https://needfordata.ru/blog/data-privacy-settings-pbi-pq-part-3">часть 3</a> <br />- <a href="https://needfordata.ru/blog/data-privacy-settings-pbi-pq-part-4">часть 4</a> <br />- <a href="https://needfordata.ru/blog/data-privacy-settings-pbi-pq-part-5">часть 5</a> <br /><br /></div></div></div></div></div></div></div><!--/allrecords-->